<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aqdas's Special Gift for Papa üöÄ</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; position: fixed; width: 100%; height: 100%; touch-action: none; -webkit-user-select: none; }
        canvas { display: block; width: 100vw; height: 100vh; image-rendering: pixelated; }
        #ui { position: absolute; width: 100%; top: 20px; text-align: center; color: #00ffcc; font-family: sans-serif; font-size: 50px; font-weight: bold; text-shadow: 2px 2px 10px #000; pointer-events: none; z-index: 10; }
        #start-screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.9); border: 3px solid gold; padding: 30px; border-radius: 20px; text-align: center; color: white; font-family: sans-serif; z-index: 20; width: 80%; }
        #banner { position: absolute; bottom: 0; width: 100%; text-align: center; background: #000; color: gold; padding: 10px 0; border-top: 2px solid #00ffcc; font-family: sans-serif; font-size: 14px; font-weight: bold; }
    </style>
</head>
<body onclick="gameStart(event)" ontouchstart="gameStart(event)">
    <div id="ui">0</div>
    <div id="start-screen" id="ss">
        <h1 style="color: gold; margin: 0;">üöÄ SPACE MISSION</h1>
        <p>A Special Gift for World's Best Papa ‚ù§Ô∏è</p>
        <div style="background: #00ffcc; color: #000; padding: 15px; border-radius: 10px; font-weight: bold; font-size: 20px;">TAP TO START</div>
    </div>
    <div id="banner">CREATED BY YOUR SON: AQDAS (THE FUTURE CODER) üíª</div>
    <canvas id="c"></canvas>

    <script>
        const canvas = document.getElementById("c");
        const ctx = canvas.getContext("2d");
        const scoreUI = document.getElementById("ui");
        const ss = document.getElementById("start-screen");

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.onresize = resize;
        resize();

        let birdY, birdV, score, active = false, pipes = [], frame = 0;
        const g = 0.5, jump = -8, pipeWidth = 60, gap = 190;

        function gameStart(e) {
            if(e) e.preventDefault();
            if(!active) {
                birdY = canvas.height / 2;
                birdV = 0;
                score = 0;
                pipes = [];
                frame = 0;
                active = true;
                ss.style.display = "none";
                scoreUI.innerText = "0";
            }
            birdV = jump;
        }

        function update() {
            if(!active) return;
            birdV += g;
            birdY += birdV;

            if(frame % 90 === 0) {
                let topH = Math.random() * (canvas.height - gap - 200) + 100;
                pipes.push({ x: canvas.width, top: topH, passed: false });
            }

            for(let i = pipes.length - 1; i >= 0; i--) {
                pipes[i].x -= 4;

                // Score Logic Fix
                if(!pipes[i].passed && pipes[i].x < 50) {
                    score++;
                    pipes[i].passed = true;
                    scoreUI.innerText = score;
                }

                // Collision Detection
                if(65 > pipes[i].x && 35 < pipes[i].x + pipeWidth) {
                    if(birdY - 12 < pipes[i].top || birdY + 12 > pipes[i].top + gap) {
                        active = false;
                        ss.style.display = "block";
                    }
                }

                if(pipes[i].x < -pipeWidth) pipes.splice(i, 1);
            }

            if(birdY > canvas.height || birdY < 0) {
                active = false;
                ss.style.display = "block";
            }
            frame++;
        }

        function draw() {
            // Background
            ctx.fillStyle = "#000510";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Pipes
            ctx.fillStyle = "#00ffcc";
            pipes.forEach(p => {
                ctx.fillRect(p.x, 0, pipeWidth, p.top);
                ctx.fillRect(p.x, p.top + gap, pipeWidth, canvas.height);
            });

            // Bird (Rocket)
            if(active) {
                ctx.font = "30px Arial";
                ctx.fillText("üöÄ", 40, birdY + 10);
            }

            update();
            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>
